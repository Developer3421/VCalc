<!--
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                         VCalc - МАТЕМАТИЧНИЙ КАЛЬКУЛЯТОР                      ║
    ║                                                                               ║
    ║  Калькулятор на основі дизайну головного вікна, без вкладок                  ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
-->
<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="600"
        x:Class="VCalc.MainWindow"
        Title="VCalc"
        WindowStartupLocation="CenterScreen"
        SystemDecorations="None"
        Width="400"
        Height="650"
        MinWidth="350"
        MinHeight="550"
        CanResize="False"
        UseLayoutRounding="True"
        FontFamily="Segoe UI, Arial, Tahoma"
        Background="#FFF5E6D3">

    <!-- ╔══════════════════════════════════════════════════════════════════════╗ -->
    <!-- ║                         LOCAL RESOURCES                               ║ -->
    <!-- ╚══════════════════════════════════════════════════════════════════════╝ -->
    <Window.Resources>
        
        <!-- Base Colors -->
        <Color x:Key="AppBgColor">#FFF5E6D3</Color>
        <Color x:Key="AppSurfaceColor">#FFFDF7EF</Color>
        <Color x:Key="AppBorderColor">#FFE8D5B7</Color>
        <Color x:Key="AppTextColor">#FF404040</Color>
        <Color x:Key="AppTextMutedColor">#FF606060</Color>

        <!-- Accent Colors -->
        <Color x:Key="AccentOrangeColor">#FFFF8C00</Color>
        <Color x:Key="AccentOrangeHoverColor">#FFFFA000</Color>
        <Color x:Key="AccentPurpleColor">#7D2AE8</Color>
        <Color x:Key="AccentPurpleHoverColor">#A78BFA</Color>

        <!-- Solid Color Brushes -->
        <SolidColorBrush x:Key="AppBgBrush" Color="{StaticResource AppBgColor}" />
        <SolidColorBrush x:Key="AppSurfaceBrush" Color="{StaticResource AppSurfaceColor}" />
        <SolidColorBrush x:Key="AppBorderBrush" Color="{StaticResource AppBorderColor}" />
        <SolidColorBrush x:Key="AppTextBrush" Color="{StaticResource AppTextColor}" />
        <SolidColorBrush x:Key="AppTextMutedBrush" Color="{StaticResource AppTextMutedColor}" />

        <SolidColorBrush x:Key="AccentOrangeBrush" Color="{StaticResource AccentOrangeColor}" />
        <SolidColorBrush x:Key="AccentOrangeHoverBrush" Color="{StaticResource AccentOrangeHoverColor}" />
        <SolidColorBrush x:Key="AccentPurpleBrush" Color="{StaticResource AccentPurpleColor}" />
        <SolidColorBrush x:Key="AccentPurpleHoverBrush" Color="{StaticResource AccentPurpleHoverColor}" />

        <!-- Gray Gradient for Title Bar -->
        <LinearGradientBrush x:Key="GrayGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFE0E0E0" Offset="0"/>
            <GradientStop Color="#FFD0D0D0" Offset="0.3"/>
            <GradientStop Color="#FFC5C5C5" Offset="0.7"/>
            <GradientStop Color="#FFC0C0C0" Offset="1"/>
        </LinearGradientBrush>
        
    </Window.Resources>

    <!-- ╔══════════════════════════════════════════════════════════════════════╗ -->
    <!-- ║                          LOCAL STYLES                                 ║ -->
    <!-- ╚══════════════════════════════════════════════════════════════════════╝ -->
    <Window.Styles>
        
        <!-- Window Control Buttons -->
        <Style Selector="Button.window-control">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#303030"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        <Style Selector="Button.window-control:pointerover">
            <Setter Property="Background" Value="#40FFFFFF"/>
        </Style>
        <Style Selector="Button.window-control.close:pointerover">
            <Setter Property="Background" Value="#40FF5C5C"/>
        </Style>

        <!-- Panel Style -->
        <Style Selector="Border.panel">
            <Setter Property="Background" Value="{StaticResource AppSurfaceBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource AppBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
        </Style>

        <!-- Calculator Number Button -->
        <Style Selector="Button.calc-number">
            <Setter Property="Background" Value="{StaticResource AppSurfaceBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource AppTextBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource AppBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button.calc-number:pointerover">
            <Setter Property="Background" Value="#FFF0E6DC"/>
            <Setter Property="BorderBrush" Value="{StaticResource AccentPurpleHoverBrush}"/>
        </Style>
        <Style Selector="Button.calc-number:pressed">
            <Setter Property="Background" Value="#FFE8D5C5"/>
        </Style>

        <!-- Calculator Operator Button -->
        <Style Selector="Button.calc-operator">
            <Setter Property="Background" Value="{StaticResource AccentOrangeBrush}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="{StaticResource AccentPurpleBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button.calc-operator:pointerover">
            <Setter Property="Background" Value="{StaticResource AccentOrangeHoverBrush}"/>
        </Style>
        <Style Selector="Button.calc-operator:pressed">
            <Setter Property="Background" Value="#FFE07800"/>
        </Style>

        <!-- Calculator Function Button (C, CE, etc.) -->
        <Style Selector="Button.calc-function">
            <Setter Property="Background" Value="{StaticResource AccentPurpleBrush}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="{StaticResource AccentOrangeBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button.calc-function:pointerover">
            <Setter Property="Background" Value="{StaticResource AccentPurpleHoverBrush}"/>
        </Style>
        <Style Selector="Button.calc-function:pressed">
            <Setter Property="Background" Value="#6B21A8"/>
        </Style>

        <!-- Equals Button -->
        <Style Selector="Button.calc-equals">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                        <GradientStop Color="#FF8C00" Offset="0"/>
                        <GradientStop Color="#7D2AE8" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="FontSize" Value="28"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button.calc-equals:pointerover">
            <Setter Property="Opacity" Value="0.9"/>
        </Style>
        <Style Selector="Button.calc-equals:pressed">
            <Setter Property="Opacity" Value="0.8"/>
        </Style>
        
    </Window.Styles>

    <!-- ╔══════════════════════════════════════════════════════════════════════╗ -->
    <!-- ║                         MAIN CONTENT                                  ║ -->
    <!-- ╚══════════════════════════════════════════════════════════════════════╝ -->
    
    <Border Background="Transparent" Margin="2" BorderThickness="1" BorderBrush="Transparent">
        <Grid RowDefinitions="42,Auto,*">
            <Grid.Background>
                <SolidColorBrush Color="{StaticResource AppBgColor}"/>
            </Grid.Background>

            <!-- ════════════════════════════════════════════════════════════════ -->
            <!-- ROW 0: TITLE BAR                                                 -->
            <!-- ════════════════════════════════════════════════════════════════ -->
            <Grid Grid.Row="0" Name="TitleBar" Background="{StaticResource GrayGradient}">
                <Grid ColumnDefinitions="Auto,*,Auto">

                    <!-- Left: New Window Button + Icon + Title -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="12,0,0,0">
                        <!-- New Window Button -->
                        <Button Name="NewWindowButton" Classes="window-control" Padding="0" Width="32" Height="28" Margin="0,0,8,0">
                            <PathIcon Data="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" Width="14" Height="14" Foreground="{StaticResource AccentPurpleBrush}"/>
                        </Button>
                        <!-- App Icon -->
                        <Border Width="28" Height="28" CornerRadius="6" Margin="0,0,10,0" ClipToBounds="True">
                            <Image Source="avares://VCalc/Icons/AppIcon.png" Width="28" Height="28" Stretch="Uniform"/>
                        </Border>
                        <TextBlock Text="VCalc"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="{StaticResource AppTextBrush}"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Middle: Draggable Space -->
                    <Panel Name="TitleBarDragArea" Grid.Column="1" Background="Transparent"/>

                    <!-- Right: Window Controls -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Stretch">
                        <Button Name="MinimizeButton" Classes="window-control" Padding="0" Width="46" Height="42">
                            <Image Source="avares://VCalc/Icons/MinButton.png" Width="28" Height="28" Stretch="Uniform"/>
                        </Button>
                        <Button Name="CloseButton" Classes="window-control close" Padding="0" Width="46" Height="42">
                            <Image Source="avares://VCalc/Icons/CloseButton.png" Width="28" Height="28" Stretch="Uniform"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Grid>

            <!-- ════════════════════════════════════════════════════════════════ -->
            <!-- ROW 1: DISPLAY PANEL                                             -->
            <!-- ════════════════════════════════════════════════════════════════ -->
            <Border Grid.Row="1" Classes="panel" Margin="12,12,12,8" Padding="16">
                <Grid RowDefinitions="Auto,Auto">
                    <!-- Expression / History -->
                    <TextBlock Name="ExpressionDisplay" 
                               Grid.Row="0"
                               Text="0"
                               FontSize="16"
                               Foreground="{StaticResource AppTextMutedBrush}"
                               HorizontalAlignment="Right"
                               TextWrapping="NoWrap"
                               Margin="0,0,0,4"/>
                    
                    <!-- Main Result -->
                    <TextBlock Name="ResultDisplay" 
                               Grid.Row="1"
                               Text="0"
                               FontSize="48"
                               FontWeight="Bold"
                               Foreground="{StaticResource AppTextBrush}"
                               HorizontalAlignment="Right"
                               TextWrapping="NoWrap"/>
                </Grid>
            </Border>

            <!-- ════════════════════════════════════════════════════════════════ -->
            <!-- ROW 2: CALCULATOR BUTTONS                                        -->
            <!-- ════════════════════════════════════════════════════════════════ -->
            <Border Grid.Row="2" Classes="panel" Margin="12,4,12,12" Padding="12">
                <Grid RowDefinitions="*,*,*,*,*,*,*" ColumnDefinitions="*,*,*,*">
                    
                    <!-- Row 0: Scientific functions: sin, cos, tan, log -->
                    <Button Grid.Row="0" Grid.Column="0" Classes="calc-function" Content="sin" Margin="4" Name="ButtonSin"/>
                    <Button Grid.Row="0" Grid.Column="1" Classes="calc-function" Content="cos" Margin="4" Name="ButtonCos"/>
                    <Button Grid.Row="0" Grid.Column="2" Classes="calc-function" Content="tan" Margin="4" Name="ButtonTan"/>
                    <Button Grid.Row="0" Grid.Column="3" Classes="calc-function" Content="log" Margin="4" Name="ButtonLog"/>

                    <!-- Row 1: ln, π, e, ^ -->
                    <Button Grid.Row="1" Grid.Column="0" Classes="calc-function" Content="ln" Margin="4" Name="ButtonLn"/>
                    <Button Grid.Row="1" Grid.Column="1" Classes="calc-function" Content="π" Margin="4" Name="ButtonPi"/>
                    <Button Grid.Row="1" Grid.Column="2" Classes="calc-function" Content="e" Margin="4" Name="ButtonE"/>
                    <Button Grid.Row="1" Grid.Column="3" Classes="calc-operator" Content="^" Margin="4" Name="ButtonPower"/>

                    <!-- Row 2: CE, C, ⌫, ÷ -->
                    <Button Grid.Row="2" Grid.Column="0" Classes="calc-function" Content="CE" Margin="4" Name="ButtonCE"/>
                    <Button Grid.Row="2" Grid.Column="1" Classes="calc-function" Content="C" Margin="4" Name="ButtonC"/>
                    <Button Grid.Row="2" Grid.Column="2" Classes="calc-function" Margin="4" Name="ButtonBackspace">
                        <PathIcon Data="M22,3H7C6.31,3 5.77,3.35 5.41,3.88L0,12L5.41,20.11C5.77,20.64 6.31,21 7,21H22A2,2 0 0,0 24,19V5A2,2 0 0,0 22,3M19,15.59L17.59,17L14,13.41L10.41,17L9,15.59L12.59,12L9,8.41L10.41,7L14,10.59L17.59,7L19,8.41L15.41,12" 
                                  Width="20" Height="20" Foreground="White"/>
                    </Button>
                    <Button Grid.Row="2" Grid.Column="3" Classes="calc-operator" Content="÷" Margin="4" Name="ButtonDivide"/>

                    <!-- Row 3: 7, 8, 9, × -->
                    <Button Grid.Row="3" Grid.Column="0" Classes="calc-number" Content="7" Margin="4" Name="Button7"/>
                    <Button Grid.Row="3" Grid.Column="1" Classes="calc-number" Content="8" Margin="4" Name="Button8"/>
                    <Button Grid.Row="3" Grid.Column="2" Classes="calc-number" Content="9" Margin="4" Name="Button9"/>
                    <Button Grid.Row="3" Grid.Column="3" Classes="calc-operator" Content="×" Margin="4" Name="ButtonMultiply"/>

                    <!-- Row 4: 4, 5, 6, − -->
                    <Button Grid.Row="4" Grid.Column="0" Classes="calc-number" Content="4" Margin="4" Name="Button4"/>
                    <Button Grid.Row="4" Grid.Column="1" Classes="calc-number" Content="5" Margin="4" Name="Button5"/>
                    <Button Grid.Row="4" Grid.Column="2" Classes="calc-number" Content="6" Margin="4" Name="Button6"/>
                    <Button Grid.Row="4" Grid.Column="3" Classes="calc-operator" Content="−" Margin="4" Name="ButtonSubtract"/>

                    <!-- Row 5: 1, 2, 3, + -->
                    <Button Grid.Row="5" Grid.Column="0" Classes="calc-number" Content="1" Margin="4" Name="Button1"/>
                    <Button Grid.Row="5" Grid.Column="1" Classes="calc-number" Content="2" Margin="4" Name="Button2"/>
                    <Button Grid.Row="5" Grid.Column="2" Classes="calc-number" Content="3" Margin="4" Name="Button3"/>
                    <Button Grid.Row="5" Grid.Column="3" Classes="calc-operator" Content="+" Margin="4" Name="ButtonAdd"/>

                    <!-- Row 6: ±, 0, ,, = -->
                    <Button Grid.Row="6" Grid.Column="0" Classes="calc-function" Content="±" Margin="4" Name="ButtonNegate"/>
                    <Button Grid.Row="6" Grid.Column="1" Classes="calc-number" Content="0" Margin="4" Name="Button0"/>
                    <Button Grid.Row="6" Grid.Column="2" Classes="calc-number" Content="," Margin="4" Name="ButtonDecimal"/>
                    <Button Grid.Row="6" Grid.Column="3" Classes="calc-equals" Content="=" Margin="4" Name="ButtonEquals"/>

                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
